version: 2

sources:
  - name: views
    description: "Existing BigQuery dataset containing views"
    tables:
      - name: student_to_teacher
        description: "Existing table for student-to-teacher mapping"
        tests:
          - not_null:
              column_name: student_number
          - dbt_utils.unique_combination_of_columns:
              combination_of_columns:
                - student_number
                - year
                - grade_level
          - not_null:
              column_name: lastfirst
