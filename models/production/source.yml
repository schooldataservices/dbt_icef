version: 2

sources:
  - name: views
    description: "Existing BigQuery dataset containing views"
    tables:
      - name: student_to_teacher
        description: "Existing table for student-to-teacher mapping"
        tests:
          - not_null:
              column_name: student_number
          - dbt_utils.unique_combination_of_columns:
              combination_of_columns:
                - student_number
                - year
                - grade_level
          - not_null:
              column_name: lastfirst

  - name: enrollment
    description: "BigQuery dataset containing enrollment tables"
    tables:
      - name: budgeted_enrollment_capacity
        description: "Table for budgeted enrollment and seat capacity"


  - name: enrollment
    description: "BigQuery dataset containing enrollment tables with hardcoded values"
    tables:
      - name: budgeted_enrollment_capacity_hardcode_8_18_25
        description: "Table for budgeted enrollment and seat capacity (hardcoded for 8/18/25)"